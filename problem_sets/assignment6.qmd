---
title: "assignment6"
format: gfm
editor: visual
---

```{r}
library(tidyverse)
library(dplyr)
library(tidyr)
library(readr)
library(knitr)
```

**1.1 Create the following tibble manually, first using `tribble()` and then using `tibble().` Print both results. \[We didn't have time to cover this in class, but look up how these functions work here**

```{r}
tibble (a=1:2,
          b=2.1:3.2,
          c="apple","orange")
```

```{r}
tribble(
 ~a, ~b, ~c,
 
 #--|--|----
 1, 2.1, "apple",
 2, 3.2, "orange")
```

```{r}
fruit <- read_tsv("https://raw.githubusercontent.com/nt246/NTRES-6100-data-science/master/datasets/dataset3.txt") 

fruit 
```

```{r}
fruit2 <- read_delim("https://raw.githubusercontent.com/nt246/NTRES-6100-data-science/master/datasets/dataset5.txt", delim=" ")

fruit_clean <- fruit2 |> mutate(Expiration_date=parse_date(`Expiration Date`, format="%B %d, %Y"))

write_csv(fruit_clean,file="fruit.csv")
```

***Exercise 2. Weather station***

2.1 Variable descriptions The text file https://raw.githubusercontent.com/nt246/NTRES-6100-data-science/master/datasets/2015y_Weather_Station_notes.txt contains descriptions of different variables collected by the station.

Import it into R and print it in a table as shown below with kable().

```{r}
weather <- read_delim("https://raw.githubusercontent.com/nt246/NTRES-6100-data-science/master/datasets/2015y_Weather_Station_notes.txt", delim="-") 

weather |> kable()
```

#### **2.2 Data tidying**

-   Import `https://raw.githubusercontent.com/nt246/NTRES-6100-data-science/master/datasets/2015y_Weather_Station.csv` into R. As you can see, this dataset is a classic example of untidy data: values of a variable (i.e.Â hour of the day) are stored as column names; variable names are stored in the `item` column.

-   Clean this dataset up and restructure it into a tidy format.

-   Parse the `date` variable into date format and parse `hour` into time.

-   Turn all invalid values into `NA` and turn `NR` in rainfall into `0`.

-   Parse all values into numbers.

-   Show the first 6 rows and 10 columns of this cleaned dataset, as shown below, *without* using `kable()`.

*Hints: you don\'t have to perform these tasks in the given order; also, warning messages are not necessarily signs of trouble.*

Before cleaning:

```{r}

weather2 <- read_csv("https://raw.githubusercontent.com/nt246/NTRES-6100-data-science/master/datasets/2015y_Weather_Station.csv")

kable(weather2)
```
