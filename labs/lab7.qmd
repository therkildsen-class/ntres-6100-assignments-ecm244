---
title: "lab7"
format: html
editor: visual
---

```{r}
# Load required packages
library(tidyverse)
library(knitr)
library(nycflights13) # install.packages("nycflights13")

flights |> head() |> kable()
```

Question 1: Compute the average delay by destination, then join on the airports data frame so you can show the spatial distribution of delays. Hereâ€™s an easy way to draw a map of the United States:

```{r}
library(maps) #install.packages("maps")

airports |> 
  left_join(flights, c("faa" = "origin")) |> 
  head() |> 
  group_by(origin) |> 
  summarize(mean_delay=mean(arr_delay)) |> 
  ggplot(mapping=aes(x=lon, y=lat,size=mean_delay)) +
    borders("state") +
    geom_point() +
    coord_quickmap()
```

